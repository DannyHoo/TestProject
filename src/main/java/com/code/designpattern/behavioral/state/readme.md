# 模式动机

在很多情况下，一个对象的行为取决于一个或多个动态变化的属性，这样的属性叫做状态，
这样的对象叫做有 状态的 (stateful)对象，这样的对象状态是从事先定义好的一系列值中取出的。
当一个这样的对象与外部事件产生互动时，其内部状态就会改变，从而使得系统的行为也随之发生变化。

状态模式描述了对象状态的变化以及对象如何在每一种状态下表现出不同的行为。
状态模式的关键是引入了一个抽象类来专门表示对象的状态，这个类我们叫做抽象状态类， 
而对象的每一种具体状态类都继承了该类，并在不同具体状态类中实现了不同状态的行为，包括各种状态之间的转换。

# 优缺点
### 优点
将所有与某个状态有关的行为放到一个类中，并且可以 方便地增加新的状态，只需要改变对象状态即可改变对 象的行为。
• 允许状态转换逻辑与状态对象合成一体，而不是某一个 巨大的条件语句块。

### 缺点
状态模式的使用必然会增加系统类和对象的个数。
• 状态模式的结构与实现都较为复杂，如果使用不当将导致程序结构和代码的混乱。
• 状态模式对“开闭原则”的支持并不太好，对于可以切换状态的状态模式，
增加新的状态类需要修改那些负责状态转换的源代码，否则无法切换到新增状态; 而且修改某个状态类的行为也需修改对应类的源代码。

# 状态模式和策略模式的区别
https://zhuanlan.zhihu.com/p/64585296

状态是系统自身的固有的，调用者不能控制系统的状态转移。
比如，一个请假单有“部长审批”-“经理审批”-“审批通过”-“审批不通过”等状态，请假者没有办法将一个部长都还没审批完的请假单提交给经理，这个状态转换只能系统自己完成。

策略是外界给的，策略怎么变，是调用者考虑的事情，系统只是根据所给的策略做事情。

# 状态模式适用场景
状态模式适用于工作流等类型的软件